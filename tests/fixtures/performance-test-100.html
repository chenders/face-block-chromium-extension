<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Test - 100 Images</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 2px solid #666;
            padding-bottom: 10px;
        }
        .stats {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .stats strong {
            color: #e74c3c;
        }
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .image-container {
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
            background: #fff;
        }
        .image-container img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }
        .image-label {
            padding: 8px;
            font-size: 12px;
            color: #666;
            background: #fafafa;
            border-top: 1px solid #eee;
        }
        #performance-stats {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            min-width: 250px;
            z-index: 1000;
        }
        #performance-stats h3 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 16px;
        }
        #performance-stats .stat-row {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            font-size: 14px;
        }
        #performance-stats .stat-label {
            color: #666;
        }
        #performance-stats .stat-value {
            color: #e74c3c;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="performance-stats">
        <h3>⏱️ Performance Stats</h3>
        <div class="stat-row">
            <span class="stat-label">Total Images:</span>
            <span class="stat-value" id="stat-total">0</span>
        </div>
        <div class="stat-row">
            <span class="stat-label">Processed:</span>
            <span class="stat-value" id="stat-processed">0</span>
        </div>
        <div class="stat-row">
            <span class="stat-label">Blocked:</span>
            <span class="stat-value" id="stat-blocked">0</span>
        </div>
        <div class="stat-row">
            <span class="stat-label">Processing Time:</span>
            <span class="stat-value" id="stat-time">-</span>
        </div>
        <div class="stat-row">
            <span class="stat-label">Avg per Image:</span>
            <span class="stat-value" id="stat-avg">-</span>
        </div>
    </div>

    <h1>Performance Test Page</h1>

    <div class="stats">
        <p><strong>100 images</strong> on this page for performance testing.</p>
        <p>Watch the performance stats in the top-right corner.</p>
    </div>

    <div class="image-grid" id="image-grid">
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-0"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 0">
            <div class="image-label">#1</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-1"
                 src="/images/albert_einstein/einstein2.jpg"
                 alt="Test image 1">
            <div class="image-label">#2</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-2"
                 src="/images/albert_einstein/einstein3.jpg"
                 alt="Test image 2">
            <div class="image-label">#3</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-3"
                 src="/images/albert_einstein/einstein4.jpg"
                 alt="Test image 3">
            <div class="image-label">#4</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-4"
                 src="/images/carl_sagan/carl_sagan1.jpg"
                 alt="Test image 4">
            <div class="image-label">#5</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-5"
                 src="/images/carl_sagan/carl_sagan2.jpg"
                 alt="Test image 5">
            <div class="image-label">#6</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-6"
                 src="/images/carl_sagan/carl_sagan3.jpg"
                 alt="Test image 6">
            <div class="image-label">#7</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-7"
                 src="/images/marilyn_monroe.jpg"
                 alt="Test image 7">
            <div class="image-label">#8</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-8"
                 src="/images/steven_pruitt.jpg"
                 alt="Test image 8">
            <div class="image-label">#9</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-9"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 9">
            <div class="image-label">#10</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-10"
                 src="/images/albert_einstein/einstein2.jpg"
                 alt="Test image 10">
            <div class="image-label">#11</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-11"
                 src="/images/albert_einstein/einstein3.jpg"
                 alt="Test image 11">
            <div class="image-label">#12</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-12"
                 src="/images/albert_einstein/einstein4.jpg"
                 alt="Test image 12">
            <div class="image-label">#13</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-13"
                 src="/images/carl_sagan/carl_sagan1.jpg"
                 alt="Test image 13">
            <div class="image-label">#14</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-14"
                 src="/images/carl_sagan/carl_sagan2.jpg"
                 alt="Test image 14">
            <div class="image-label">#15</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-15"
                 src="/images/carl_sagan/carl_sagan3.jpg"
                 alt="Test image 15">
            <div class="image-label">#16</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-16"
                 src="/images/marilyn_monroe.jpg"
                 alt="Test image 16">
            <div class="image-label">#17</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-17"
                 src="/images/steven_pruitt.jpg"
                 alt="Test image 17">
            <div class="image-label">#18</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-18"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 18">
            <div class="image-label">#19</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-19"
                 src="/images/albert_einstein/einstein2.jpg"
                 alt="Test image 19">
            <div class="image-label">#20</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-20"
                 src="/images/albert_einstein/einstein3.jpg"
                 alt="Test image 20">
            <div class="image-label">#21</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-21"
                 src="/images/albert_einstein/einstein4.jpg"
                 alt="Test image 21">
            <div class="image-label">#22</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-22"
                 src="/images/carl_sagan/carl_sagan1.jpg"
                 alt="Test image 22">
            <div class="image-label">#23</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-23"
                 src="/images/carl_sagan/carl_sagan2.jpg"
                 alt="Test image 23">
            <div class="image-label">#24</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-24"
                 src="/images/carl_sagan/carl_sagan3.jpg"
                 alt="Test image 24">
            <div class="image-label">#25</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-25"
                 src="/images/marilyn_monroe.jpg"
                 alt="Test image 25">
            <div class="image-label">#26</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-26"
                 src="/images/steven_pruitt.jpg"
                 alt="Test image 26">
            <div class="image-label">#27</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-27"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 27">
            <div class="image-label">#28</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-28"
                 src="/images/albert_einstein/einstein2.jpg"
                 alt="Test image 28">
            <div class="image-label">#29</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-29"
                 src="/images/albert_einstein/einstein3.jpg"
                 alt="Test image 29">
            <div class="image-label">#30</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-30"
                 src="/images/albert_einstein/einstein4.jpg"
                 alt="Test image 30">
            <div class="image-label">#31</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-31"
                 src="/images/carl_sagan/carl_sagan1.jpg"
                 alt="Test image 31">
            <div class="image-label">#32</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-32"
                 src="/images/carl_sagan/carl_sagan2.jpg"
                 alt="Test image 32">
            <div class="image-label">#33</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-33"
                 src="/images/carl_sagan/carl_sagan3.jpg"
                 alt="Test image 33">
            <div class="image-label">#34</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-34"
                 src="/images/marilyn_monroe.jpg"
                 alt="Test image 34">
            <div class="image-label">#35</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-35"
                 src="/images/steven_pruitt.jpg"
                 alt="Test image 35">
            <div class="image-label">#36</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-36"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 36">
            <div class="image-label">#37</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-37"
                 src="/images/albert_einstein/einstein2.jpg"
                 alt="Test image 37">
            <div class="image-label">#38</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-38"
                 src="/images/albert_einstein/einstein3.jpg"
                 alt="Test image 38">
            <div class="image-label">#39</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-39"
                 src="/images/albert_einstein/einstein4.jpg"
                 alt="Test image 39">
            <div class="image-label">#40</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-40"
                 src="/images/carl_sagan/carl_sagan1.jpg"
                 alt="Test image 40">
            <div class="image-label">#41</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-41"
                 src="/images/carl_sagan/carl_sagan2.jpg"
                 alt="Test image 41">
            <div class="image-label">#42</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-42"
                 src="/images/carl_sagan/carl_sagan3.jpg"
                 alt="Test image 42">
            <div class="image-label">#43</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-43"
                 src="/images/marilyn_monroe.jpg"
                 alt="Test image 43">
            <div class="image-label">#44</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-44"
                 src="/images/steven_pruitt.jpg"
                 alt="Test image 44">
            <div class="image-label">#45</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-45"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 45">
            <div class="image-label">#46</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-46"
                 src="/images/albert_einstein/einstein2.jpg"
                 alt="Test image 46">
            <div class="image-label">#47</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-47"
                 src="/images/albert_einstein/einstein3.jpg"
                 alt="Test image 47">
            <div class="image-label">#48</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-48"
                 src="/images/albert_einstein/einstein4.jpg"
                 alt="Test image 48">
            <div class="image-label">#49</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-49"
                 src="/images/carl_sagan/carl_sagan1.jpg"
                 alt="Test image 49">
            <div class="image-label">#50</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-50"
                 src="/images/carl_sagan/carl_sagan2.jpg"
                 alt="Test image 50">
            <div class="image-label">#51</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-51"
                 src="/images/carl_sagan/carl_sagan3.jpg"
                 alt="Test image 51">
            <div class="image-label">#52</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-52"
                 src="/images/marilyn_monroe.jpg"
                 alt="Test image 52">
            <div class="image-label">#53</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-53"
                 src="/images/steven_pruitt.jpg"
                 alt="Test image 53">
            <div class="image-label">#54</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-54"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 54">
            <div class="image-label">#55</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-55"
                 src="/images/albert_einstein/einstein2.jpg"
                 alt="Test image 55">
            <div class="image-label">#56</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-56"
                 src="/images/albert_einstein/einstein3.jpg"
                 alt="Test image 56">
            <div class="image-label">#57</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-57"
                 src="/images/albert_einstein/einstein4.jpg"
                 alt="Test image 57">
            <div class="image-label">#58</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-58"
                 src="/images/carl_sagan/carl_sagan1.jpg"
                 alt="Test image 58">
            <div class="image-label">#59</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-59"
                 src="/images/carl_sagan/carl_sagan2.jpg"
                 alt="Test image 59">
            <div class="image-label">#60</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-60"
                 src="/images/carl_sagan/carl_sagan3.jpg"
                 alt="Test image 60">
            <div class="image-label">#61</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-61"
                 src="/images/marilyn_monroe.jpg"
                 alt="Test image 61">
            <div class="image-label">#62</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-62"
                 src="/images/steven_pruitt.jpg"
                 alt="Test image 62">
            <div class="image-label">#63</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-63"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 63">
            <div class="image-label">#64</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-64"
                 src="/images/albert_einstein/einstein2.jpg"
                 alt="Test image 64">
            <div class="image-label">#65</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-65"
                 src="/images/albert_einstein/einstein3.jpg"
                 alt="Test image 65">
            <div class="image-label">#66</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-66"
                 src="/images/albert_einstein/einstein4.jpg"
                 alt="Test image 66">
            <div class="image-label">#67</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-67"
                 src="/images/carl_sagan/carl_sagan1.jpg"
                 alt="Test image 67">
            <div class="image-label">#68</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-68"
                 src="/images/carl_sagan/carl_sagan2.jpg"
                 alt="Test image 68">
            <div class="image-label">#69</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-69"
                 src="/images/carl_sagan/carl_sagan3.jpg"
                 alt="Test image 69">
            <div class="image-label">#70</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-70"
                 src="/images/marilyn_monroe.jpg"
                 alt="Test image 70">
            <div class="image-label">#71</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-71"
                 src="/images/steven_pruitt.jpg"
                 alt="Test image 71">
            <div class="image-label">#72</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-72"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 72">
            <div class="image-label">#73</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-73"
                 src="/images/albert_einstein/einstein2.jpg"
                 alt="Test image 73">
            <div class="image-label">#74</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-74"
                 src="/images/albert_einstein/einstein3.jpg"
                 alt="Test image 74">
            <div class="image-label">#75</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-75"
                 src="/images/albert_einstein/einstein4.jpg"
                 alt="Test image 75">
            <div class="image-label">#76</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-76"
                 src="/images/carl_sagan/carl_sagan1.jpg"
                 alt="Test image 76">
            <div class="image-label">#77</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-77"
                 src="/images/carl_sagan/carl_sagan2.jpg"
                 alt="Test image 77">
            <div class="image-label">#78</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-78"
                 src="/images/carl_sagan/carl_sagan3.jpg"
                 alt="Test image 78">
            <div class="image-label">#79</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-79"
                 src="/images/marilyn_monroe.jpg"
                 alt="Test image 79">
            <div class="image-label">#80</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-80"
                 src="/images/steven_pruitt.jpg"
                 alt="Test image 80">
            <div class="image-label">#81</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-81"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 81">
            <div class="image-label">#82</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-82"
                 src="/images/albert_einstein/einstein2.jpg"
                 alt="Test image 82">
            <div class="image-label">#83</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-83"
                 src="/images/albert_einstein/einstein3.jpg"
                 alt="Test image 83">
            <div class="image-label">#84</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-84"
                 src="/images/albert_einstein/einstein4.jpg"
                 alt="Test image 84">
            <div class="image-label">#85</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-85"
                 src="/images/carl_sagan/carl_sagan1.jpg"
                 alt="Test image 85">
            <div class="image-label">#86</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-86"
                 src="/images/carl_sagan/carl_sagan2.jpg"
                 alt="Test image 86">
            <div class="image-label">#87</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-87"
                 src="/images/carl_sagan/carl_sagan3.jpg"
                 alt="Test image 87">
            <div class="image-label">#88</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-88"
                 src="/images/marilyn_monroe.jpg"
                 alt="Test image 88">
            <div class="image-label">#89</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-89"
                 src="/images/steven_pruitt.jpg"
                 alt="Test image 89">
            <div class="image-label">#90</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-90"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 90">
            <div class="image-label">#91</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-91"
                 src="/images/albert_einstein/einstein2.jpg"
                 alt="Test image 91">
            <div class="image-label">#92</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-92"
                 src="/images/albert_einstein/einstein3.jpg"
                 alt="Test image 92">
            <div class="image-label">#93</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-93"
                 src="/images/albert_einstein/einstein4.jpg"
                 alt="Test image 93">
            <div class="image-label">#94</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-94"
                 src="/images/carl_sagan/carl_sagan1.jpg"
                 alt="Test image 94">
            <div class="image-label">#95</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-95"
                 src="/images/carl_sagan/carl_sagan2.jpg"
                 alt="Test image 95">
            <div class="image-label">#96</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-96"
                 src="/images/carl_sagan/carl_sagan3.jpg"
                 alt="Test image 96">
            <div class="image-label">#97</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-97"
                 src="/images/marilyn_monroe.jpg"
                 alt="Test image 97">
            <div class="image-label">#98</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-98"
                 src="/images/steven_pruitt.jpg"
                 alt="Test image 98">
            <div class="image-label">#99</div>
        </div>
        <div class="image-container">
            <img class="test-image"
                 id="perf-img-99"
                 src="/images/albert_einstein/einstein1.jpg"
                 alt="Test image 99">
            <div class="image-label">#100</div>
        </div>

    </div>

    <script>
        const startTime = performance.now();
        const totalImages = 100;

        document.getElementById('stat-total').textContent = totalImages;

        // Monitor for processed images
        const observer = new MutationObserver(() => {
            updateStats();
        });

        // Observe all images
        const images = document.querySelectorAll('.test-image');
        images.forEach(img => {
            observer.observe(img, {
                attributes: true,
                attributeFilter: ['data-face-block-processed', 'alt', 'src']
            });
        });

        function updateStats() {
            const processedImages = document.querySelectorAll('[data-face-block-processed="true"]');
            const blockedImages = document.querySelectorAll('[alt="Image blocked by Face Block Chromium Extension"]');

            const processed = processedImages.length;
            const blocked = blockedImages.length;

            document.getElementById('stat-processed').textContent = processed;
            document.getElementById('stat-blocked').textContent = blocked;

            if (processed === totalImages) {
                const endTime = performance.now();
                const totalTime = ((endTime - startTime) / 1000).toFixed(2);
                const avgTime = ((endTime - startTime) / totalImages).toFixed(0);

                document.getElementById('stat-time').textContent = totalTime + 's';
                document.getElementById('stat-avg').textContent = avgTime + 'ms';

                console.log('PERFORMANCE_COMPLETE:', {
                    totalImages,
                    processed,
                    blocked,
                    totalTimeSeconds: totalTime,
                    avgTimePerImageMs: avgTime
                });
            }
        }

        // Initial update
        setTimeout(updateStats, 100);

        // Periodic updates
        const interval = setInterval(() => {
            updateStats();
            if (document.querySelectorAll('[data-face-block-processed="true"]').length === totalImages) {
                clearInterval(interval);
            }
        }, 500);

        console.log('Test page loaded with', totalImages, 'images');
    </script>
</body>
</html>